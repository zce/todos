{"version":3,"sources":["components/Header.jsx","components/Item.jsx","components/Main.jsx","components/Footer.jsx","components/Info.jsx","lib/storage.js","App.jsx","serviceWorker.js","index.jsx"],"names":["Header","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","value","handleChange","bind","assertThisInitialized","handleKeyDown","react_default","a","createElement","className","placeholder","autoFocus","onChange","onKeyDown","e","setState","target","which","onAdd","trim","Component","Item","text","editing","handleEdit","handleSubmit","prevProps","prevState","refs","input","focus","setSelectionRange","length","classes","completed","push","join","type","checked","onToggle","onDoubleClick","onClick","onDelete","ref","onBlur","onUpdate","Main","items","id","every","i","onToggleAll","htmlFor","map","item","components_Item","key","Footer","routes","path","name","_this2","activeCount","reduce","count","current","href","onFilter","onClear","Info","storage","get","json","window","localStorage","getItem","JSON","parse","set","stringify","setItem","showFilters","/","/active","/completed","getCurrentPath","location","hash","substr","includes","App","loading","handleAdd","handleDelete","handleToggle","handleUpdate","handleToggleAll","handleClearCompleted","handleFilter","console","log","showItems","filter","Fragment","components_Header","components_Main","components_Footer","components_Info","m","Math","max","concat","toConsumableArray","objectSpread","allCompleted","Boolean","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.0f3c808c.chunk.js","sourcesContent":["import React, { Component } from 'react'\n\nclass Header extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { value: '' }\n    this.handleChange = this.handleChange.bind(this)\n    this.handleKeyDown = this.handleKeyDown.bind(this)\n  }\n\n  render () {\n    return (\n      <header className='header'>\n        <h1>todos</h1>\n        <input\n          className='new-todo'\n          placeholder='What needs to be done?'\n          autoFocus\n          value={this.state.value}\n          onChange={this.handleChange}\n          onKeyDown={this.handleKeyDown} />\n      </header>\n    )\n  }\n\n  handleChange (e) {\n    this.setState({ value: e.target.value })\n  }\n\n  handleKeyDown (e) {\n    if (e.which === 13) {\n      this.props.onAdd(e.target.value.trim())\n      this.setState({ value: '' })\n    }\n  }\n}\n\nexport default Header\n","import React, { Component } from 'react'\n\nclass Item extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      text: props.text,\n      editing: false\n    }\n\n    this.handleEdit = this.handleEdit.bind(this)\n    this.handleChange = this.handleChange.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n    this.handleKeyDown = this.handleKeyDown.bind(this)\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    // autofocus 2\n    if (prevState.editing || !this.state.editing) return\n    this.refs.input.focus()\n    this.refs.input.setSelectionRange(0, this.refs.input.value.length)\n  }\n\n  render () {\n    const classes = []\n    this.props.completed && classes.push('completed')\n    this.state.editing && classes.push('editing')\n\n    return (\n      <li className={classes.join(' ')}>\n        <div className='view'>\n          <input className='toggle' type='checkbox' checked={this.props.completed} onChange={this.props.onToggle} />\n          <label onDoubleClick={this.handleEdit}>{this.props.text}</label>\n          <button className='destroy' onClick={this.props.onDelete} />\n        </div>\n        <input className='edit' ref='input' value={this.state.text} onChange={this.handleChange} onBlur={this.handleSubmit} onKeyDown={this.handleKeyDown} />\n        {/* autofocus 1 */}\n        {/* {this.state.editing && <input className=\"edit\" value={this.state.text} autoFocus={true} onChange={this.handleChange} onBlur={this.handleSubmit} onKeyDown={this.handleKeyDown} />} */}\n      </li>\n    )\n  }\n\n  handleEdit () {\n    this.setState({ editing: true })\n  }\n\n  handleChange (e) {\n    this.setState({ text: e.target.value })\n  }\n\n  handleSubmit (e) {\n    const text = this.state.text.trim()\n    if (text) {\n      this.props.onUpdate(text)\n      this.setState({ text, editing: false })\n    } else {\n      this.props.onDelete()\n    }\n  }\n\n  handleKeyDown (e) {\n    if (e.which === 27) {\n      this.setState({ text: this.props.text, editing: false })\n    } else if (e.which === 13) {\n      this.handleSubmit(e)\n    }\n  }\n}\n\nexport default Item\n","import React, { Component } from 'react'\n\nimport Item from './Item'\n\nclass Main extends Component {\n  render () {\n    if (!this.props.items.length) return null\n\n    return (\n      // This section should be hidden by default and shown when there are todos\n      <section className='main'>\n        <input id='toggle-all' className='toggle-all' type='checkbox' checked={this.props.items.every(i => i.completed)} onChange={this.props.onToggleAll} />\n        <label htmlFor='toggle-all'>Mark all as complete</label>\n        <ul className='todo-list'>\n          {\n            this.props.items.map(item =>\n              <Item\n                key={item.id}\n                text={item.text}\n                completed={item.completed}\n                onDelete={() => this.props.onDelete(item.id)}\n                onToggle={() => this.props.onToggle(item.id)}\n                onUpdate={text => this.props.onUpdate(item.id, text)}\n              />\n            )\n          }\n        </ul>\n      </section>\n    )\n  }\n}\n\nexport default Main\n","import React, { Component } from 'react'\n\nclass Footer extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      routes: [\n        { path: '/', name: 'All' },\n        { path: '/active', name: 'Active' },\n        { path: '/completed', name: 'Completed' }\n      ]\n    }\n  }\n\n  render () {\n    if (!this.props.items.length) return null\n\n    const activeCount = this.props.items.reduce((count, item) => {\n      return item.completed ? count - 1 : count\n    }, this.props.items.length)\n\n    return (\n      // This footer should hidden by default and shown when there are todos\n      <footer className='footer'>\n        {/* This should be `0 items left` by default */}\n        <span className='todo-count'><strong>{activeCount}</strong> {activeCount === 1 ? `item` : 'items'} left</span>\n        {/* Remove this if you don't implement routing */}\n        <ul className='filters'>\n          {\n            this.state.routes.map(i =>\n              <li key={i.path}>\n                <a className={i.path === this.props.current ? 'selected' : ''} href={'#' + i.path} onClick={() => this.props.onFilter(i.path)}>{i.name}</a>\n              </li>\n            )\n          }\n        </ul>\n        {\n          activeCount !== this.props.items.length &&\n          <button className='clear-completed' onClick={this.props.onClear}>Clear completed</button>\n        }\n      </footer>\n    )\n  }\n}\n\nexport default Footer\n","import React, { Component } from 'react'\n\nclass Info extends Component {\n  render () {\n    return (\n      <footer className='info'>\n        <p>Double-click to edit a todo</p>\n        {/* Remove the below line ↓ */}\n        <p>Template by <a href='http://sindresorhus.com'>Sindre Sorhus</a></p>\n        {/* Change this out with your name and url ↓ */}\n        <p>Created by <a href='https://zce.me'>zce</a></p>\n        <p>Part of <a href='http://todomvc.com'>TodoMVC</a></p>\n      </footer>\n    )\n  }\n}\n\nexport default Info\n","const get = (key) => {\n  try {\n    const json = window.localStorage.getItem(key)\n    return JSON.parse(json)\n  } catch (e) {\n    return null\n  }\n}\n\nconst set = (key, value) => {\n  const json = JSON.stringify(value)\n  window.localStorage.setItem(key, json)\n}\n\nexport default { get, set }\n","import React, { Component } from 'react'\n\nimport Header from './components/Header'\nimport Main from './components/Main'\nimport Footer from './components/Footer'\nimport Info from './components/Info'\n\nimport storage from './lib/storage'\n\nimport './App.css'\n\nconst showFilters = {\n  '/': () => true,\n  '/active': i => !i.completed,\n  '/completed': i => i.completed\n}\n\nconst getCurrentPath = () => {\n  const current = window.location.hash.substr(1)\n  return (current && [ '/active', '/completed' ].includes(current)) ? current : '/'\n}\n\nclass App extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      items: storage.get('todos') || [],\n      path: getCurrentPath(),\n      loading: true\n    }\n\n    this.handleAdd = this.handleAdd.bind(this)\n    this.handleDelete = this.handleDelete.bind(this)\n    this.handleToggle = this.handleToggle.bind(this)\n    this.handleUpdate = this.handleUpdate.bind(this)\n    this.handleToggleAll = this.handleToggleAll.bind(this)\n    this.handleClearCompleted = this.handleClearCompleted.bind(this)\n    this.handleFilter = this.handleFilter.bind(this)\n  }\n\n  componentWillMount () {\n    this.setState({ loading: false })\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    if (prevState.items === this.state.items) return\n    // auto save\n    console.log(this.state.items)\n    storage.set('todos', this.state.items)\n  }\n\n  render () {\n    if (this.state.loading) return null\n\n    const showItems = this.state.items.filter(showFilters[this.state.path])\n\n    return (\n      <>\n        <section className='todoapp'>\n          <Header onAdd={this.handleAdd} />\n          <Main\n            items={showItems}\n            onDelete={this.handleDelete}\n            onToggle={this.handleToggle}\n            onUpdate={this.handleUpdate}\n            onToggleAll={this.handleToggleAll}\n          />\n          <Footer\n            items={this.state.items}\n            current={this.state.path}\n            onFilter={this.handleFilter}\n            onClear={this.handleClearCompleted}\n          />\n        </section>\n        <Info />\n      </>\n    )\n  }\n\n  handleAdd (text) {\n    const id = this.state.items.reduce((m, i) => Math.max(i.id, m), -1) + 1\n    const items = [ ...this.state.items, { id, text, completed: false } ]\n    this.setState({ items })\n  }\n\n  handleDelete (id) {\n    const items = this.state.items.filter(i => i.id !== id)\n    this.setState({ items })\n  }\n\n  handleToggle (id) {\n    const items = this.state.items.map(i => i.id === id ? { ...i, completed: !i.completed } : i)\n    this.setState({ items })\n  }\n\n  handleUpdate (id, text) {\n    const items = this.state.items.map(i => i.id === id ? { ...i, text } : i)\n    this.setState({ items })\n  }\n\n  handleToggleAll () {\n    const allCompleted = this.state.items.every(i => i.completed)\n    const items = this.state.items.map(i => ({ ...i, completed: !allCompleted }))\n    this.setState({ items })\n  }\n\n  handleClearCompleted () {\n    const items = this.state.items.filter(i => !i.completed)\n    this.setState({ items })\n  }\n\n  handleFilter (path) {\n    this.setState({ path })\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register (config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  window.fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\n// todomvc app styles\nimport 'todomvc-app-css/index.css'\n\n// // custom styles\n// import './index.css'\n\nimport App from './App'\n\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}